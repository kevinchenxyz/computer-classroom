{"version":3,"file":"app.js","sources":["src/helpers/context_menu.js","src/helpers/external_links.js","src/env.js","src/conf.js","src/app.js"],"sourcesContent":["// This gives you default context menu (cut, copy, paste)\n// in all input fields and textareas across your app.\n\nimport { remote } from 'electron';\n\nconst Menu = remote.Menu;\nconst MenuItem = remote.MenuItem;\n\nconst isAnyTextSelected = () => {\n  return window.getSelection().toString() !== '';\n};\n\nconst cut = new MenuItem({\n  label: 'Cut',\n  click: () => {\n    document.execCommand('cut');\n  },\n});\n\nconst copy = new MenuItem({\n  label: 'Copy',\n  click: () => {\n    document.execCommand('copy');\n  },\n});\n\nconst paste = new MenuItem({\n  label: 'Paste',\n  click: () => {\n    document.execCommand('paste');\n  },\n});\n\nconst normalMenu = new Menu();\nnormalMenu.append(copy);\n\nconst textEditingMenu = new Menu();\ntextEditingMenu.append(cut);\ntextEditingMenu.append(copy);\ntextEditingMenu.append(paste);\n\ndocument.addEventListener('contextmenu', (event) => {\n  switch (event.target.nodeName) {\n    case 'TEXTAREA':\n    case 'INPUT':\n      event.preventDefault();\n      textEditingMenu.popup(remote.getCurrentWindow());\n      break;\n    default:\n      if (isAnyTextSelected()) {\n        event.preventDefault();\n        normalMenu.popup(remote.getCurrentWindow());\n      }\n  }\n}, false);\n","// Convenient way for opening links in external browser, not in the app.\n// Useful especially if you have a lot of links to deal with.\n//\n// Usage:\n//\n// Every link with class \".js-external-link\" will be opened in external browser.\n// <a class=\"js-external-link\" href=\"http://google.com\">google</a>\n//\n// The same behaviour for many links can be achieved by adding\n// this class to any parent tag of an anchor tag.\n// <p class=\"js-external-link\">\n//    <a href=\"http://google.com\">google</a>\n//    <a href=\"http://bing.com\">bing</a>\n// </p>\n\nimport { shell } from 'electron';\n\nconst supportExternalLinks = (event) => {\n  let href;\n  let isExternal = false;\n\n  const checkDomElement = (element) => {\n    if (element.nodeName === 'A') {\n      href = element.getAttribute('href');\n    }\n    if (element.classList.contains('js-external-link')) {\n      isExternal = true;\n    }\n    if (href && isExternal) {\n      shell.openExternal(href);\n      event.preventDefault();\n    } else if (element.parentElement) {\n      checkDomElement(element.parentElement);\n    }\n  };\n\n  checkDomElement(event.target);\n};\n\ndocument.addEventListener('click', supportExternalLinks, false);\n","// Simple wrapper exposing environment variables to rest of the code.\n\nimport jetpack from 'fs-jetpack';\n\n// The variables have been written to `env.json` by the build process.\nconst env = jetpack.cwd(__dirname).read('env.json', 'json');\n\nexport default env;\n","export const getConfig = () => {\n    const confData = {\n        'path': {\n            computerClassroom: \"http://192.168.1.59/zf2/kurogo_wzu_push/public/api/computer\"\n        }\n    }\n    return confData;\n};\n// export const Language_en_us = {\n//     'title': 'Information About Your Computer',\n//     'ip_address': 'IP Address',\n//     'mac_address': 'MAC Address',\n//     'computer_name': 'Computer Name',\n//     'memory': 'Memory',\n//     'screen_resolution': 'Screen Resolution',\n//     'windows_version': 'Windows Version',\n//     'cpu': 'CPU',\n//     'hotfix': 'HotFix Imformations',\n// };","// Here is the starting point for your application code.\n\n// Small helpers you might want to keep\nimport './helpers/context_menu.js';\nimport './helpers/external_links.js';\n\n// All stuff below is just to show you how it works. You can delete all of it.\nimport path from 'path';\nimport url from 'url';\nimport { BrowserWindow, remote, screen} from 'electron';\nimport jetpack from 'fs-jetpack';\nimport { greet } from './hello_world/hello_world';\nimport { Language_zh_tw } from './language/zh_tw';\nimport { Language_en_us } from './language/en_us';\nimport env from './env';\nimport { getConfig } from './conf.js';\n\nconst app = remote.app;\nconst appDir = jetpack.cwd(app.getAppPath());\nconst os = require('os');\nconst fs = require('fs');\nconst process = require('process');\nconst { exec } = require('child_process');\nconst electron = require('electron');\n\nvar screenElectron = electron.screen;\nvar mainScreen = screenElectron.getPrimaryDisplay();\nvar dimensions = mainScreen.size;\n\n// var versionString = exec.execSync('ver').toString().trim();\n\n\nconst powerShell = require('node-powershell');\n\n// Holy crap! This is browser window with HTML and stuff, but I can read\n// here files form disk like it's node.js! Welcome to Electron world :)\nconst manifest = appDir.read('package.json', 'json');\n\nconst osMap = {\n  win32: 'Windows',\n  darwin: 'macOS',\n  linux: 'Linux',\n};\n\nconst pressenv = process.env;\nvar language = pressenv.LANG || pressenv.LANGUAGE || pressenv.LC_ALL || pressenv.LC_MESSAGES;\nvar language_code = null;\nif(language){\n  language = language.toLowerCase();\n  language = language.split('.');\n  language_code = language[0];\n}\n\nvar itemName;\nswitch (language_code) {\n  case 'zh_tw':\n  itemName = Language_zh_tw;\n    break;\n  case 'en_us':\n  itemName = Language_en_us;\n    break;\n\n  default:\n  itemName = Language_en_us;\n    break;\n}\n// console.log(os.networkInterfaces().eth0.address);\n\nvar formatIpaddress = function (ipobj) {\n  var rtdata='';\n  Object.keys(ipobj).forEach(function (ifname) {\n    var alias = 0;\n  \n    ipobj[ifname].forEach(function (iface) {\n      if ('IPv4' !== iface.family || iface.internal !== false) {\n        // skip over internal (i.e. 127.0.0.1) and non-ipv4 addresses\n        return;\n      }\n  \n      if (alias >= 1) {\n        // this single interface has multiple ipv4 addresses\n        rtdata += iface.address;\n        // console.log(ifname + ':' + alias, iface.address);\n      } else {\n        // this interface has only one ipv4 adress\n        // console.log(ifname, iface.address);\n        rtdata += iface.address;\n      }\n      ++alias;\n    });\n  });\n  return rtdata;\n}\nvar formatMacaddress = function (ipobj) {\n  var rtdata='';\n  Object.keys(ipobj).forEach(function (ifname) {\n    var alias = 0;\n  \n    ipobj[ifname].forEach(function (iface) {\n      if ('IPv4' !== iface.family || iface.internal !== false) {\n        // skip over internal (i.e. 127.0.0.1) and non-ipv4 addresses\n        return;\n      }\n  \n      if (alias >= 1) {\n        // this single interface has multiple ipv4 addresses\n        rtdata += iface.mac;\n        // console.log(ifname + ':' + alias, iface.address);\n      } else {\n        // this interface has only one ipv4 adress\n        // console.log(ifname, iface.address);\n        rtdata += iface.mac;\n      }\n      ++alias;\n    });\n  });\n  return rtdata;\n}\n\nvar registered = function () {\n  // const fs = require('fs');\n  var numberFilePath = path.join(os.homedir(), 'Desktop');\n  fs.readFile(numberFilePath + '\\\\number.txt',function(err, data){\n    if (err) throw err;\n    var numberAndHash = data.toString();\n    var numberval = numberAndHash.split('-')[0];\n    var hashval = numberAndHash.split('-')[1].toLowerCase();\n    if (hashval === '746c4a669516595d9b03b8517f7fede9' ) {\n      //註冊\n        var registeredPath = getConfig().path.computerClassroom;\n        var sendData = {\n              action: 'register',\n              // \"action\": \"loan\",\n              computer_id: numberval,\n              // \"user_uid\": \"admin\",\n              computer_mac: formatMacaddress(os.networkInterfaces()),\n            };\n        sendData = JSON.stringify(sendData);\n        $.ajax({\n          method: \"POST\",\n          url: registeredPath,\n          data: sendData,\n          contentType: 'application/json; charset=utf-8',\n        })\n        .done(function( data ) {\n          if(data.update_status){\n            window.alert('註冊完成!');\n            fs.unlinkSync(numberFilePath + '\\\\number.txt', (err) => {\n              if (err) throw err;\n              console.log('number.txt was deleted');\n            });\n          }else{\n            window.alert('註冊失敗，請與管理人員聯繫!!');\n          }\n        })\n        .fail(function( msg ) {\n          window.alert('註冊失敗，請與管理人員聯繫!!');\n        });\n      } else {\n        window.alert('註冊失敗，驗證錯誤!!');\n      }\n  });\n};\n// const fs = require('fs');\nconst numberFilePath = path.join(os.homedir(), 'Desktop');\nfs.stat(numberFilePath + '\\\\number.txt', function(err, stat) {\n  if(err == null) {\n    registered();\n  } else if(err.code == 'ENOENT') {\n    console.log('ENOENT: ', err.code);\n      // file does not exist\n      // fs.writeFile('log.txt', 'Some log\\n');\n  } else {\n    console.log('Some other error: ', err.code);\n  }\n});\n\n\n\n//config\nconst Config = require('electron-config');\nvar config = new Config();\nconfig.set('unicorn', '🦄');\nconsole.log(config.get('unicorn'));\n//=> '🦄'\n\n// Use dot-notation to access nested properties\n// config.set('install', false);\nconsole.log('install');\nif(!config.get('install')){\n  config.set('install', true);\n}else{\n  config.set('checkinstall', false);\n}\nconsole.log(config.get('install'));\n//=> {bar: true}\n\nconfig.delete('install');\nconsole.log(config.get('install'));\n\nconst username = require('username');\n\n\nvar stuName;\nusername().then(username => {\n  console.log(username);\n  stuName = username;\n  document.querySelector('#username').innerHTML = '使用者名稱：' + username;\n\t//=> 'sindresorhus'\n});\n\nvar seterrormsg = function (type) {\n  var filename = [\n    'errormsg.html',\n    'timendmsg.html',\n  ]\n  const BrowserWindow = require('electron').remote.BrowserWindow;\n    // let w = remote.getCurrentWindow()\n    // w.close();\n    let winindex = new BrowserWindow({\n      width: 400, \n      height: 100, \n      title:'error',\n      frame: true,\n      autoHideMenuBar: true,\n    });\n    winindex.loadURL(url.format({\n      pathname: path.join(__dirname, filename[type]),\n      protocol: 'file:',\n      slashes: true,\n    }));\n    // winindex.openDevTools();\n};\n\n// var cpus = os.cpus();\n$(document).ready(function(){\n  var endMinCount = 0;\n  var questBorrowingTime = function () {\n    var recheckPath = getConfig().path.computerClassroom;\n    var sendData = {\n      action: \"loan\",\n      user_uid: os.hostname(),\n      computer_mac: formatMacaddress(os.networkInterfaces()),\n    };\n    sendData = JSON.stringify(sendData);\n    $.ajax({\n      method: \"POST\",\n      url: recheckPath,\n      data: sendData,\n      contentType: 'application/json; charset=utf-8',\n    })\n    .done(function( data ) {\n      if(data.update_status){\n        if(data.etime < 5 && data.etime > 0 ) {\n          // remindEndMsg\n          seterrormsg(1);//借用結束\n          // window.alert('借用時間即將結束，請儘速保存您的資料！');\n          document.querySelector('#remindEndMsg').innerHTML =  '借用時間即將結束，需要續借請至服務台申請！';\n        } else if (data.etime < 1 || data.etime === 1 ) {\n          clearInterval(raiseHands);\n          setTimeout(function () {\n            var winLockCommand = 'shutdown -L';//登出\n            exec(winLockCommand);\n          }, 60000);\n        }\n        document.querySelector('#screen').innerHTML =  '借用時間:' + data.period;\n        document.querySelector('#endtime').innerHTML =  '剩餘時間:' + data.etime + '分鐘';\n      } else {\n        endMinCount += 1;\n        seterrormsg(0);//系統錯誤\n        if (endMinCount === 5) {\n          //超過三次詢問皆斷線 \n          var winLockCommand = 'shutdown -L';//登出\n          exec(winLockCommand);\n        }\n      }\n    })\n    .fail(function( msg ) {\n      endMinCount += 1;\n      if (endMinCount >= 3) {\n        seterrormsg(0);//系統錯誤\n      }\n      if (endMinCount === 5) {\n        //超過三次詢問皆斷線 \n        var winLockCommand = 'shutdown -L';//登出\n        exec(winLockCommand);\n      }\n    });\n  };\n  questBorrowingTime();\n  var raiseHands = setInterval(questBorrowingTime,15000);\n  // var raiseHands = setInterval(questBorrowingTime,60000);\n\n  $('#logout').click(function () {\n    var winLockCommand = 'shutdown -L';//登出\n    exec(winLockCommand);\n  });\n  $('#temDep').click(function () {\n    var winLockCommand = 'rundll32.exe user32.dll, LockWorkStation';//鎖 螢幕\n    // var winLockCommand = 'shutdown -r -t 12';//reboot\n    exec(winLockCommand);\n  });\n});\n\n// const dialog = require('electron').dialog;\n// console.log(dialog.showOpenDialog({ properties: [ 'openFile', 'openDirectory', 'multiSelections' ]}));\n// const {dialog} = require('electron').remote\n// console.log(dialog)\n//item title\n\ndocument.querySelector('#remind').innerHTML =  '請將本視窗縮小';\ndocument.querySelector('#screen').innerHTML =  '借用時間: 確認中...';\ndocument.querySelector('#endtime').innerHTML =  '剩餘時間: 確認中...';\n// document.querySelector('#setErrorMsg').innerHTML =  versionString;\n\n"],"names":["remote","shell","electron","BrowserWindow"],"mappings":";;;;;;;;;AAAA;;;AAGA,AAEA,MAAM,IAAI,GAAGA,eAAM,CAAC,IAAI,CAAC;AACzB,MAAM,QAAQ,GAAGA,eAAM,CAAC,QAAQ,CAAC;;AAEjC,MAAM,iBAAiB,GAAG,MAAM;EAC9B,OAAO,MAAM,CAAC,YAAY,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC;CAChD,CAAC;;AAEF,MAAM,GAAG,GAAG,IAAI,QAAQ,CAAC;EACvB,KAAK,EAAE,KAAK;EACZ,KAAK,EAAE,MAAM;IACX,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;GAC7B;CACF,CAAC,CAAC;;AAEH,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC;EACxB,KAAK,EAAE,MAAM;EACb,KAAK,EAAE,MAAM;IACX,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;GAC9B;CACF,CAAC,CAAC;;AAEH,MAAM,KAAK,GAAG,IAAI,QAAQ,CAAC;EACzB,KAAK,EAAE,OAAO;EACd,KAAK,EAAE,MAAM;IACX,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;GAC/B;CACF,CAAC,CAAC;;AAEH,MAAM,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;AAC9B,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;AAExB,MAAM,eAAe,GAAG,IAAI,IAAI,EAAE,CAAC;AACnC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAC5B,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC7B,eAAe,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;;AAE9B,QAAQ,CAAC,gBAAgB,CAAC,aAAa,EAAE,CAAC,KAAK,KAAK;EAClD,QAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ;IAC3B,KAAK,UAAU,CAAC;IAChB,KAAK,OAAO;MACV,KAAK,CAAC,cAAc,EAAE,CAAC;MACvB,eAAe,CAAC,KAAK,CAACA,eAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC;MACjD,MAAM;IACR;MACE,IAAI,iBAAiB,EAAE,EAAE;QACvB,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,UAAU,CAAC,KAAK,CAACA,eAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC;OAC7C;GACJ;CACF,EAAE,KAAK,CAAC,CAAC;;ACtDV;;;;;;;;;;;;;;;AAeA,AAEA,MAAM,oBAAoB,GAAG,CAAC,KAAK,KAAK;EACtC,IAAI,IAAI,CAAC;EACT,IAAI,UAAU,GAAG,KAAK,CAAC;;EAEvB,MAAM,eAAe,GAAG,CAAC,OAAO,KAAK;IACnC,IAAI,OAAO,CAAC,QAAQ,KAAK,GAAG,EAAE;MAC5B,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;KACrC;IACD,IAAI,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;MAClD,UAAU,GAAG,IAAI,CAAC;KACnB;IACD,IAAI,IAAI,IAAI,UAAU,EAAE;MACtBC,cAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;MACzB,KAAK,CAAC,cAAc,EAAE,CAAC;KACxB,MAAM,IAAI,OAAO,CAAC,aAAa,EAAE;MAChC,eAAe,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;KACxC;GACF,CAAC;;EAEF,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;CAC/B,CAAC;;AAEF,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,oBAAoB,EAAE,KAAK,CAAC,CAAC;;ACvChE;;AAEA,AAEA;AACA,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC;;ACLpD,MAAM,SAAS,GAAG,MAAM;IAC3B,MAAM,QAAQ,GAAG;QACb,MAAM,EAAE;YACJ,iBAAiB,EAAE,6DAA6D;SACnF;MACJ;IACD,OAAO,QAAQ,CAAC;CACnB,CAAC;;;;;;;;;;;;;ACPF;;;AAGA,AAGA;AACA,AAUA,MAAM,GAAG,GAAGD,eAAM,CAAC,GAAG,CAAC;AACvB,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;AAC7C,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACnC,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;AAC1C,MAAME,UAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;;AAErC,IAAI,cAAc,GAAGA,UAAQ,CAAC,MAAM,CAAC;AACrC,IAAI,UAAU,GAAG,cAAc,CAAC,iBAAiB,EAAE,CAAC;AACpD,AAEA;;;AAGA,MAAM,UAAU,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;;;AAI9C,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;;AAErD,AAMA,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC;AAC7B,IAAI,QAAQ,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAC,WAAW,CAAC;AAC7F,IAAI,aAAa,GAAG,IAAI,CAAC;AACzB,GAAG,QAAQ,CAAC;EACV,QAAQ,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;EAClC,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;EAC/B,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;CAC7B;;AAED,AAwCA,IAAI,gBAAgB,GAAG,UAAU,KAAK,EAAE;EACtC,IAAI,MAAM,CAAC,EAAE,CAAC;EACd,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;IAC3C,IAAI,KAAK,GAAG,CAAC,CAAC;;IAEd,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;MACrC,IAAI,MAAM,KAAK,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,QAAQ,KAAK,KAAK,EAAE;;QAEvD,OAAO;OACR;;MAED,IAAI,KAAK,IAAI,CAAC,EAAE;;QAEd,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC;;OAErB,MAAM;;;QAGL,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC;OACrB;MACD,EAAE,KAAK,CAAC;KACT,CAAC,CAAC;GACJ,CAAC,CAAC;EACH,OAAO,MAAM,CAAC;EACf;;AAED,IAAI,UAAU,GAAG,YAAY;;EAE3B,IAAI,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,SAAS,CAAC,CAAC;EACxD,EAAE,CAAC,QAAQ,CAAC,cAAc,GAAG,cAAc,CAAC,SAAS,GAAG,EAAE,IAAI,CAAC;IAC7D,IAAI,GAAG,EAAE,MAAM,GAAG,CAAC;IACnB,IAAI,aAAa,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpC,IAAI,SAAS,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAI,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;IACxD,IAAI,OAAO,KAAK,kCAAkC,GAAG;;QAEjD,IAAI,cAAc,GAAG,SAAS,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC;QACxD,IAAI,QAAQ,GAAG;cACT,MAAM,EAAE,UAAU;;cAElB,WAAW,EAAE,SAAS;;cAEtB,YAAY,EAAE,gBAAgB,CAAC,EAAE,CAAC,iBAAiB,EAAE,CAAC;aACvD,CAAC;QACN,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QACpC,CAAC,CAAC,IAAI,CAAC;UACL,MAAM,EAAE,MAAM;UACd,GAAG,EAAE,cAAc;UACnB,IAAI,EAAE,QAAQ;UACd,WAAW,EAAE,iCAAiC;SAC/C,CAAC;SACD,IAAI,CAAC,UAAU,IAAI,GAAG;UACrB,GAAG,IAAI,CAAC,aAAa,CAAC;YACpB,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACtB,EAAE,CAAC,UAAU,CAAC,cAAc,GAAG,cAAc,EAAE,CAAC,GAAG,KAAK;cACtD,IAAI,GAAG,EAAE,MAAM,GAAG,CAAC;cACnB,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;aACvC,CAAC,CAAC;WACJ,IAAI;YACH,MAAM,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;WACjC;SACF,CAAC;SACD,IAAI,CAAC,UAAU,GAAG,GAAG;UACpB,MAAM,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;SACjC,CAAC,CAAC;OACJ,MAAM;QACL,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;OAC7B;GACJ,CAAC,CAAC;CACJ,CAAC;;AAEF,MAAM,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,SAAS,CAAC,CAAC;AAC1D,EAAE,CAAC,IAAI,CAAC,cAAc,GAAG,cAAc,EAAE,SAAS,GAAG,EAAE,IAAI,EAAE;EAC3D,GAAG,GAAG,IAAI,IAAI,EAAE;IACd,UAAU,EAAE,CAAC;GACd,MAAM,GAAG,GAAG,CAAC,IAAI,IAAI,QAAQ,EAAE;IAC9B,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;;;GAGnC,MAAM;IACL,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;GAC7C;CACF,CAAC,CAAC;;;;;AAKH,MAAM,MAAM,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAC1C,IAAI,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;AAC1B,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC5B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;;;;;AAKnC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AACvB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;EACxB,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;CAC7B,IAAI;EACH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;CACnC;AACD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;;;AAGnC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACzB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;;AAEnC,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;;;AAGrC,IAAI,OAAO,CAAC;AACZ,QAAQ,EAAE,CAAC,IAAI,CAAC,QAAQ,IAAI;EAC1B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;EACtB,OAAO,GAAG,QAAQ,CAAC;EACnB,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,SAAS,GAAG,QAAQ,GAAG,QAAQ,CAAC;;CAErE,CAAC,CAAC;;AAEH,IAAI,WAAW,GAAG,UAAU,IAAI,EAAE;EAChC,IAAI,QAAQ,GAAG;IACb,eAAe;IACf,gBAAgB;IACjB;EACD,MAAMC,gBAAa,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC;;;IAG7D,IAAI,QAAQ,GAAG,IAAIA,gBAAa,CAAC;MAC/B,KAAK,EAAE,GAAG;MACV,MAAM,EAAE,GAAG;MACX,KAAK,CAAC,OAAO;MACb,KAAK,EAAE,IAAI;MACX,eAAe,EAAE,IAAI;KACtB,CAAC,CAAC;IACH,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;MAC1B,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;MAC9C,QAAQ,EAAE,OAAO;MACjB,OAAO,EAAE,IAAI;KACd,CAAC,CAAC,CAAC;;CAEP,CAAC;;;AAGF,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAU;EAC1B,IAAI,WAAW,GAAG,CAAC,CAAC;EACpB,IAAI,kBAAkB,GAAG,YAAY;IACnC,IAAI,WAAW,GAAG,SAAS,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC;IACrD,IAAI,QAAQ,GAAG;MACb,MAAM,EAAE,MAAM;MACd,QAAQ,EAAE,EAAE,CAAC,QAAQ,EAAE;MACvB,YAAY,EAAE,gBAAgB,CAAC,EAAE,CAAC,iBAAiB,EAAE,CAAC;KACvD,CAAC;IACF,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC,CAAC,IAAI,CAAC;MACL,MAAM,EAAE,MAAM;MACd,GAAG,EAAE,WAAW;MAChB,IAAI,EAAE,QAAQ;MACd,WAAW,EAAE,iCAAiC;KAC/C,CAAC;KACD,IAAI,CAAC,UAAU,IAAI,GAAG;MACrB,GAAG,IAAI,CAAC,aAAa,CAAC;QACpB,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG;;UAEpC,WAAW,CAAC,CAAC,CAAC,CAAC;;UAEf,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,SAAS,IAAI,uBAAuB,CAAC;SAC9E,MAAM,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,GAAG;UAC9C,aAAa,CAAC,UAAU,CAAC,CAAC;UAC1B,UAAU,CAAC,YAAY;YACrB,IAAI,cAAc,GAAG,aAAa,CAAC;YACnC,IAAI,CAAC,cAAc,CAAC,CAAC;WACtB,EAAE,KAAK,CAAC,CAAC;SACX;QACD,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,SAAS,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;QACrE,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,SAAS,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;OAC7E,MAAM;QACL,WAAW,IAAI,CAAC,CAAC;QACjB,WAAW,CAAC,CAAC,CAAC,CAAC;QACf,IAAI,WAAW,KAAK,CAAC,EAAE;;UAErB,IAAI,cAAc,GAAG,aAAa,CAAC;UACnC,IAAI,CAAC,cAAc,CAAC,CAAC;SACtB;OACF;KACF,CAAC;KACD,IAAI,CAAC,UAAU,GAAG,GAAG;MACpB,WAAW,IAAI,CAAC,CAAC;MACjB,IAAI,WAAW,IAAI,CAAC,EAAE;QACpB,WAAW,CAAC,CAAC,CAAC,CAAC;OAChB;MACD,IAAI,WAAW,KAAK,CAAC,EAAE;;QAErB,IAAI,cAAc,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,cAAc,CAAC,CAAC;OACtB;KACF,CAAC,CAAC;GACJ,CAAC;EACF,kBAAkB,EAAE,CAAC;EACrB,IAAI,UAAU,GAAG,WAAW,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;;;EAGvD,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,YAAY;IAC7B,IAAI,cAAc,GAAG,aAAa,CAAC;IACnC,IAAI,CAAC,cAAc,CAAC,CAAC;GACtB,CAAC,CAAC;EACH,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,YAAY;IAC7B,IAAI,cAAc,GAAG,0CAA0C,CAAC;;IAEhE,IAAI,CAAC,cAAc,CAAC,CAAC;GACtB,CAAC,CAAC;CACJ,CAAC,CAAC;;;;;;;;AAQH,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,SAAS,IAAI,SAAS,CAAC;AACzD,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,SAAS,IAAI,cAAc,CAAC;AAC9D,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,SAAS,IAAI,cAAc,CAAC;qEACM"}